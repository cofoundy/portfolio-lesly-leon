---
import { siteConfig } from "../config";
const { trayectoria } = siteConfig;
---

<section id="trayectoria" class="py-16 md:py-24" style="background: var(--color-surface-light);">
  <div class="max-w-5xl mx-auto px-6">
    <h2 class="reveal text-sm font-bold uppercase tracking-widest mb-12" style="color: var(--color-accent);">
      Trayectoria
    </h2>

    <div class="relative">
      <!-- Vertical timeline line -->
      <div
        class="absolute left-4 md:left-8 top-0 bottom-0 w-0.5"
        style="background: var(--color-primary-light); opacity: 0.4;"
      ></div>

      {trayectoria.map((job, i) => (
        <div class={`reveal stagger-${i + 1} relative pl-12 md:pl-20 pb-12 last:pb-0`}>
          <!-- Timeline dot -->
          <div
            class="absolute left-2.5 md:left-6.5 top-1 w-3 h-3 rounded-full border-2"
            style={`
              background: ${job.actual ? 'var(--color-accent)' : 'white'};
              border-color: ${job.actual ? 'var(--color-accent)' : 'var(--color-primary)'};
            `}
          ></div>

          {/* Current badge */}
          {job.actual && (
            <span
              class="inline-block mb-2 px-3 py-0.5 rounded-full text-xs font-bold uppercase tracking-wider text-white"
              style="background: var(--color-accent);"
            >
              Actual
            </span>
          )}

          <div
            class="rounded-xl p-5 md:p-6 card-hover"
            style="background: white; border: 1px solid rgba(61, 90, 128, 0.1);"
          >
            <div class="flex flex-col md:flex-row md:items-start md:justify-between gap-1 mb-3">
              <div>
                <h3 class="text-lg font-bold" style="color: var(--color-primary-dark);">
                  {job.cargo}
                </h3>
                <p class="text-sm font-semibold" style="color: var(--color-primary);">
                  {job.empresa}{job.division && ` Â· ${job.division}`}
                </p>
              </div>
              <span class="text-xs font-medium px-3 py-1 rounded-full whitespace-nowrap self-start" style="background: var(--color-surface); color: var(--color-primary);">
                {job.periodo}
              </span>
            </div>

            <ul class="space-y-1.5">
              {job.bullets.map((b) => (
                <li class="flex items-start gap-2 text-sm" style="color: #555;">
                  <span class="mt-1.5 w-1.5 h-1.5 rounded-full flex-shrink-0" style="background: var(--color-accent);"></span>
                  {b}
                </li>
              ))}
            </ul>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<!-- Shimmer separator -->
<div class="bar-shimmer h-1"></div>
