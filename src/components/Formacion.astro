---
import { siteConfig } from "../config";
const { formacion } = siteConfig;

const cityIcons: Record<string, string> = {
  "Pamplona": "M3 21l1.65-3.8a9 9 0 1114.7 0L21 21",
  "San Sebastián": "M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2M9 11a4 4 0 100-8 4 4 0 000 8zM23 21v-2a4 4 0 00-3-3.87M16 3.13a4 4 0 010 7.75",
  "Madrid": "M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5",
};
---

<section id="formacion" class="py-16 md:py-24" style="background: var(--color-surface-light);">
  <div class="max-w-4xl mx-auto px-6">
    <h2 class="reveal text-sm font-bold uppercase tracking-widest mb-10" style="color: var(--color-accent);">
      Formación
    </h2>

    <div class="space-y-5">
      {formacion.map((edu, i) => (
        <div class={`reveal ${i === 0 ? 'reveal-left' : i === 2 ? 'reveal-right' : ''} stagger-${i + 1}`}>
          <div
            class="rounded-xl p-5 md:p-6 card-hover flex items-start gap-4"
            style="background: white; border: 1px solid rgba(61, 90, 128, 0.1);"
          >
            <!-- City badge -->
            <div class="flex-shrink-0">
              <div
                class="w-12 h-12 rounded-lg flex items-center justify-center"
                style="background: var(--color-surface);"
              >
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="var(--color-primary)"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path d={cityIcons[edu.ciudad] || cityIcons["Madrid"]} />
                </svg>
              </div>
            </div>

            <div class="flex-1 min-w-0">
              <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1 mb-1">
                <span
                  class="text-xs font-bold uppercase tracking-wider px-2.5 py-0.5 rounded-full"
                  style="background: var(--color-primary-dark); color: white;"
                >
                  {edu.ciudad}
                </span>
                <span class="text-xs font-medium" style="color: var(--color-primary-light);">
                  {edu.periodo}
                </span>
              </div>
              <h3 class="text-base font-bold mt-2" style="color: var(--color-primary-dark);">
                {edu.institucion}
              </h3>
              <p class="text-sm mt-1" style="color: var(--color-primary);">
                {edu.titulo}
              </p>
            </div>
          </div>
        </div>
      ))}
    </div>

    <!-- Seminario extra -->
    <div class="reveal stagger-4 mt-5 text-center">
      <span
        class="inline-flex items-center gap-2 px-4 py-2 rounded-full text-xs font-medium"
        style="background: white; color: var(--color-primary); border: 1px solid var(--color-primary-light);"
      >
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
          <polyline points="9 11 12 14 22 4"/>
          <path d="M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11"/>
        </svg>
        Seminario: Habilidades directivas y gestión de equipos (Femxa, 65h)
      </span>
    </div>
  </div>
</section>

<!-- Shimmer separator -->
<div class="bar-shimmer h-1"></div>
